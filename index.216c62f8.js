var API_KEY="758eaee05362425590906fb4540c32ad",PageSize=8,currentPage=1,totalPages=void 0,searchBtnRef=document.getElementById("searchCtr"),loadMoreBtnRef=document.getElementById("loadMore"),searchField=document.getElementById("searchNewsField"),articlesContainer=document.getElementById("articles"),paginationContainer=document.getElementById("pagination");function getNews(e){var t="https://newsapi.org/v2/everything?q=".concat(e,"&from=2022-12-01&apiKey=").concat(API_KEY,"&pageSize=").concat(PageSize,"&page=").concat(currentPage);return axios.get(t).then((function(e){return e.data})).then((function(e){return{articles:e.articles,totalResults:e.totalResults}})).catch((function(e){return console.log(e)}))}function createArticlesElements(e){return e.map((function(e){var t=e.title,a=e.description,n=e.url,r=e.urlToImage;return'<article class="news">\n    <h2>'.concat(t,"</h2>\n    <div>").concat(a,'</div>\n    <img src="').concat(r,'" alt="').concat(t,'" loading="lazy">\n    <a href="').concat(n,'" class="news-link" target="_blank">more</a>\n  </article>')})).join("")}function createPagesElements(){for(var e="",t=1;t<=totalPages;t+=1)e+='<li class="page-item"><a class="page-link" href="#" data-page='.concat(t,">").concat(t,"</a></li>");return e}function calculatePagination(e){totalPages=Math.floor((e>100?100:e)/PageSize)}function render(e,t){e.innerHTML="",e.insertAdjacentHTML("beforeend",t)}searchBtnRef.addEventListener("click",(function(e){getNews(searchField.value).then((function(e){var t=e.articles;calculatePagination(e.totalResults);var a=createArticlesElements(t),n=createPagesElements();render(paginationContainer,n),render(articlesContainer,a)}))})),paginationContainer.addEventListener("click",(function(e){e.preventDefault(),"page-link"===e.target.className&&(currentPage=e.target.dataset.page,getNews(searchField.value).then((function(e){var t=e.articles;calculatePagination(e.totalResults);var a=createArticlesElements(t),n=createPagesElements();render(paginationContainer,n),render(articlesContainer,a)})))})),loadMoreBtnRef.addEventListener("click",(function(e){currentPage>totalPages||(currentPage=Number(currentPage)+1,getNews(searchField.value).then((function(e){var t=createArticlesElements(e.articles);articlesContainer.insertAdjacentHTML("beforeend",t)})))}));
//# sourceMappingURL=index.216c62f8.js.map
